# PaperAxon 需求说明文档（V0.1）

本文档为 **V0.1 版本需求文档**，约定当前阶段的论文来源、功能范围与验收标准。**当前需求针对版本：V0.1。**

对应设计与实现见：[《详细设计文档 v0.1》](./详细设计文档v0.1.md)。

## 1. 项目概述

### 1.1 项目名称
PaperAxon（论文智能体系统）

### 1.2 项目简介
PaperAxon 是一个基于多智能体架构的学术论文辅助系统，旨在帮助用户高效理解论文内容、发现相关研究、建立个人论文知识库，并将论文解读转化为可收听的中文播客内容，支持语音播放。

### 1.3 目标用户
- 科研人员、研究生、博士生
- 对某一领域需要快速建立认知的学习者
- 偏好「听」而非「读」的用户
- 需要系统性梳理和记忆多篇论文的研究者

### 1.4 核心价值
- **降低阅读门槛**：通过结构化解读与播客形式，降低英文/专业论文的理解成本。
- **建立论文记忆**：持久化存储已读论文的关键信息与关联，支持长期检索与回顾。
- **发现相关研究**：基于语义与引用关系检索相关论文，形成知识脉络。
- **多模态消费**：支持阅读摘要、收听播客，适应不同场景（通勤、运动等）。

---

## 2. 系统定位与边界

### 2.1 系统定位
- 多智能体协作的论文解读与知识管理平台。
- **论文来源（V0.1 仅限）**：**本地上传的 PDF**、**arXiv**；输出：解读报告、相关论文列表、播客音频、记忆检索结果。

### 2.2 系统边界
- **论文来源**：当前版本**仅考虑**以下两种——**本地上传的 PDF 文件**、**arXiv**（链接/ID/摘要页 URL）。不包含其它来源（如 DOI、其它学术站点链接等）。
- **在范围内**：论文解析（本地 PDF + arXiv）、摘要/解读生成、相关论文检索、记忆存储与检索、中文播客生成与语音播放、前端页面、每日 arXiv 采集、论文主题知识图谱与热度展示。
- **暂不在范围内**：论文全文自动翻译、论文投稿/审稿流程、实时协作编辑、多用户权限与社交功能（可按后续版本扩展）。

---

## 3. 功能需求

### 3.1 多智能体系统（核心架构）

#### 3.1.1 需求描述
系统由多个专职智能体组成，各司其职、协同完成「解读 → 检索 → 记忆 → 播客」的完整流程。

#### 3.1.2 功能要点
- **智能体角色划分**（建议）：
  - **规划智能体**：负责接收用户/系统请求，**规划执行步骤并调度**其他功能智能体；根据请求类型（如「解读论文」「查相关论文」「生成播客」）与当前状态（如是否已有解读）决定调用哪些智能体及调用顺序，支持流水线与按需分支。
  - **解析智能体**：负责论文 PDF/文本解析、结构识别（标题、摘要、章节、图表、参考文献）。
  - **解读智能体**：负责生成结构化解读（背景、方法、结果、结论、创新点、不足等），输出面向中文用户的可读报告。
  - **检索智能体**：负责根据当前论文主题/关键词/引用，查询相关论文（可对接学术 API 或本地/向量库）。
  - **记忆智能体**：负责将论文关键信息写入记忆库，支持按论文、按主题、按时间等维度的存储与检索。
  - **播客智能体**：负责将解读内容改写为播客稿（口语化、分段、可朗读），并驱动 TTS 生成中文语音。
- **协作方式**：由规划智能体统一调度；支持流水线式（解析 → 解读 → 记忆 → 播客）与按需触发（例如仅「查相关论文」时只调度检索智能体，或已有解读时仅调度播客智能体）。
- **可扩展性**：智能体数量与职责可随版本迭代调整，不绑定死某一种实现（如 LangGraph、AutoGen、CrewAI 等均可作为实现选项）。

#### 3.1.3 验收标准
- 至少实现 3 个以上功能明确的智能体（含规划智能体或等效的调度节点），且能完成端到端一次「解读 + 记忆 + 播客」流程。
- 规划/调度能根据请求类型与状态正确选择执行的智能体及顺序。
- 智能体间有清晰的输入/输出契约与错误传递机制。

---

### 3.2 论文解读

#### 3.2.1 需求描述
用户提供一篇论文（**仅限本地上传 PDF 或 arXiv**），系统能够自动解析并生成一份**结构化中文解读**。

#### 3.2.2 功能要点
- **输入（V0.1 仅限以下两种）**：
  - **本地上传 PDF**：用户上传本地 PDF 文件；
  - **arXiv**：支持通过 arXiv 链接、arXiv ID（如 `2301.12345`）或摘要页 URL 拉取并解析论文（获取元数据与 PDF）。
- **解析能力**：
  - 提取标题、作者、摘要、关键词、章节标题、主要段落、参考文献列表；
  - **arXiv 专项**：能正确解析 arXiv 提供的元数据（标题、作者、摘要、分类、发表日期等）并下载/解析对应 PDF；
  - 可选：图表说明、重要公式的识别与保留。
- **解读输出**（结构化中文）：
  - 研究背景与动机；
  - 问题定义与目标；
  - 方法/技术路线概述；
  - 主要结果与实验结论；
  - 创新点与贡献；
  - 局限性与未来工作；
  - 可选的「一句话总结」或「三句话总结」便于记忆。
- **呈现形式**：支持在界面中展示 Markdown/富文本，并可被后续播客模块消费。

#### 3.2.3 验收标准
- 给定一篇常见格式的英文 PDF 或一篇 arXiv 论文（通过链接/ID），能输出包含上述至少 5 项的结构化中文解读。
- 解读内容语句通顺、术语可保留英文并辅以中文说明（策略可配置）。

---

### 3.3 相关论文查询

#### 3.3.1 需求描述
基于当前论文或用户指定主题/关键词，**查询并推荐相关论文**，帮助用户扩展阅读与建立知识脉络。

#### 3.3.2 功能要点
- **触发方式**：
  - 在解读某篇论文后，自动或手动触发「查相关论文」；
  - 或用户直接输入主题/关键词/论文标题进行查询。
- **检索来源**（至少支持一种）：
  - 学术 API（如 Semantic Scholar、PubMed、arXiv 等）；
  - 或本地/自建向量库（基于已导入或已解读的论文）。
- **结果展示**：
  - 标题、作者、年份、摘要（或简短描述）、来源/链接；
  - 与当前论文的相关性说明（可选，如「方法相似」「同一问题不同思路」）。
- **与记忆联动**：若某篇相关论文已在「论文记忆」中，可标注「已解读」并支持跳转。

#### 3.3.3 验收标准
- 给定一篇已解读论文或一组关键词，能返回至少 5 条相关论文列表，且包含标题与可读摘要或描述。
- 若使用学术 API，需在文档中说明所用 API 及使用限制（如频率、需注册等）。

---

### 3.4 论文记忆

#### 3.4.1 需求描述
系统具备**论文记忆**能力：对已解读的论文进行持久化存储，并支持按内容、主题、时间等维度检索与回顾，形成个人论文知识库。

#### 3.4.2 功能要点
- **记忆内容**（至少包含）：
  - 论文元信息：标题、作者、年份、来源、链接（如 arXiv URL）；
  - 结构化解读的摘要或全文（或索引指向解读报告）；
  - 用户可选的标签、笔记、自定义分类；
  - 时间戳（首次解读、最后访问等）。
- **存储方式**：
  - 本地文件（如 JSON/Markdown）+ 可选向量库（用于语义检索）；
  - 或轻量数据库（如 SQLite）。
- **检索能力**：
  - 按标题/作者/关键词的精确或模糊检索；
  - 按语义检索（如「和注意力机制有关的已读论文」）；
  - 按时间范围、标签筛选。
- **记忆与其它模块的关系**：
  - 解读完成后自动写入记忆（可配置）；
  - 播客生成、相关论文推荐可读取记忆以保持上下文一致。

#### 3.4.3 验收标准
- 解读一篇新论文后，该论文的关键信息可被持久化存储并在重启后仍可检索。
- 支持至少两种检索方式：关键词检索 + 语义检索（或时间/标签筛选）。

---

### 3.5 中文播客生成与语音播放

#### 3.5.1 需求描述
将**已生成的结构化解读**转化为适合收听的中文播客内容，并支持**语音合成（TTS）与播放**，便于用户在通勤、运动等场景下「听论文」。

#### 3.5.2 功能要点
- **播客稿生成**：
  - 基于解读智能体的输出，改写为**口语化、分段**的播客脚本；
  - 包含开场白、章节过渡、重点强调、结束语等（结构可模板化）；
  - 长度可控：如 5 分钟版（仅核心结论）/ 15 分钟版（完整解读）。
- **语音合成（TTS）**：
  - 支持至少一种中文 TTS 引擎（如 Azure TTS、阿里云、讯飞、OpenAI TTS、本地模型等）；
  - 输出格式：MP3 或 WAV，便于保存与播放。
- **播放与交互**：
  - 在系统内提供**音频播放器**：播放/暂停、进度条、倍速（如 1.0x、1.25x、1.5x）；
  - 可选：下载音频文件到本地；
  - 可选：播客稿与音频段落对应（高亮当前播放句/段）。
- **与解读、记忆的衔接**：
  - 仅对「已解读」的论文生成播客；生成记录可写入记忆（如「已生成 15 分钟版播客」）。

#### 3.5.3 验收标准
- 对任意一篇已解读论文，能生成不少于 3 分钟的中文播客音频并可在系统内播放。
- 播客内容与解读报告一致，且口语化、无生硬机翻感（可通过人工抽检评估）。

---

### 3.6 前端页面

#### 3.6.1 需求描述
系统需提供**前端 Web 页面**，供用户浏览解读内容、播放播客，并完成论文检索、记忆查看等操作。

#### 3.6.2 功能要点
- **解读文字版浏览**：
  - 在页面上可**浏览解读后的文字版**（结构化中文解读报告）；
  - 支持按论文列表进入详情页，详情页展示完整解读内容（Markdown/富文本渲染）；
  - 支持标题、摘要、背景、方法、结果、结论等区块的清晰排版与阅读。
- **播客播放**：
  - 在论文详情或列表页提供**可点击播放**的入口（如「播放播客」按钮）；
  - 点击后使用系统内音频播放器播放该论文对应的播客音频；
  - 支持播放/暂停、进度条、倍速等基本控制。
- **其它能力**（与现有功能衔接）：
  - 上传本地 PDF 或输入 arXiv 链接/ID 并触发解读（论文来源仅限此两种）；
  - 查看相关论文、记忆库检索入口；
  - **每日自动采集设置**：在前端页面上可设置**是否开启每日自动采集论文**（开关），以及**采集时间**（默认值为**凌晨 0 点**）；设置生效后，定时任务按此配置执行。
  - 可选：知识图谱与热度展示的入口（见 3.8）。
- **体验**：关键操作有加载/状态提示与错误提示，界面简洁易用。

#### 3.6.3 验收标准
- 用户可在前端页面完成：选择或上传论文 → 查看该论文的解读文字版 → 点击播放播客并听到音频。
- 解读内容完整可读，播放器可正常播放/暂停与调节进度。
- 用户可在前端设置「是否每日自动采集论文」及「采集时间」（默认凌晨 0 点），设置可保存并生效。

---

### 3.7 每日定时采集 arXiv 论文

#### 3.7.1 需求描述
系统支持**每天定时**从 arXiv 采集与**历史**（或配置的其它主题）相关的论文，并自动纳入系统，便于后续解读、记忆与播客生成。

#### 3.7.2 功能要点
- **采集范围**：
  - 默认或可配置：采集 arXiv 上与「历史」主题/分类相关的所有新论文（如使用 arXiv 的 `history` 相关分类或关键词筛选）；
  - 可扩展为支持多主题/多分类（如 cs.AI、physics 等），通过配置或管理界面选择。
- **定时任务**：
  - 每日在**用户可配置的时间**自动执行一次采集任务；**是否开启每日自动采集**、**采集时间**均可在**前端页面**设置，**采集时间默认值为凌晨 0 点**；
  - 后端根据前端保存的配置（开关 + 时间）调度定时任务（如通过 cron、系统定时任务或应用内调度器实现）。
- **纳入系统**：
  - 新采集的论文至少写入「待处理」或「已收录」列表：保存元数据（标题、作者、摘要、链接、arXiv ID、发布日期）；
  - 可选：对部分论文自动触发解析与解读（如仅摘要解读），或由用户手动选择「解读」与「生成播客」。
- **去重**：同一篇 arXiv 论文（同一 ID）不重复入库。

#### 3.7.3 验收标准
- 用户在前端可配置是否开启每日自动采集及采集时间（默认凌晨 0 点），配置生效后定时任务按此执行。
- 配置好「历史」相关分类/关键词后，每日定时任务能成功拉取当日（或近期）符合条件的 arXiv 论文并写入系统。
- 用户在前端或后台可看到「今日/近期采集」的论文列表，并可对单篇进行解读与播客生成。

---

### 3.8 论文主题知识图谱与热度

#### 3.8.1 需求描述
系统能够基于已纳入的论文生成**论文主题的知识图谱**，并支持**热度**展示，帮助用户把握领域结构与热点。

#### 3.8.2 功能要点
- **知识图谱**：
  - 以论文、主题/关键词、作者等为节点，以「引用」「同主题」「相关」等为边，构建**论文主题知识图谱**；
  - 支持可视化展示：图谱可在前端以交互形式展示（节点可点击、缩放、筛选）；
  - 主题可从论文的标题、摘要、关键词、分类中抽取或由解读结果归纳。
- **热度**：
  - **能看到热度**：为论文或主题定义热度指标并展示；
  - 热度可基于：近期被解读/播放次数、在 arXiv 或系统中的出现/引用频率、时间衰减等（具体指标可迭代）；
  - 在前端以列表排序、标签、图谱节点大小或颜色等方式展示热度，便于用户识别热门论文或主题。
- **与记忆、采集的衔接**：知识图谱与热度数据来源于系统内已收录/已解读的论文，随每日采集与用户使用更新。

#### 3.8.3 验收标准
- 系统内存在一定量论文后，能生成并展示一张可交互的论文主题知识图谱。
- 至少一种热度展示方式可用（如「热门论文」列表或图谱中的热度区分），且数据随系统使用更新。

---

## 4. 非功能需求

### 4.1 性能
- **不做性能指标要求**，以实现功能与体验为主；若后续需要可再补充。

### 4.2 可用性与体验
- 通过**前端页面**完成「上传本地 PDF 或输入 arXiv → 查看解读文字版 → 点击播放播客 → 查相关论文 → 看知识图谱与热度」等主流程。
- 关键操作有明确状态提示（解析中、解读中、生成播客中、采集中等）与错误提示。

### 4.3 可维护与可扩展
- 智能体职责清晰、接口可文档化，便于后续增加新智能体（如「论文对比智能体」「笔记导出智能体」）。
- 依赖的第三方服务（API、TTS）建议通过配置切换，便于替换与降级。

### 4.4 安全与隐私
- 若使用云端 API 或 TTS，需在文档中说明数据是否出境、是否加密，以及用户可选的「仅本地」策略（若支持）。
- 论文与记忆数据存储路径、权限需在说明中明确，避免误删或未授权访问。

---

## 5. 用户场景示例

| 场景 | 用户操作 | 系统行为 |
|------|----------|----------|
| 快速了解一篇新论文 | 上传本地 PDF 或输入 arXiv 链接/ID | 解析 → 解读 → 展示中文解读报告，并可选写入记忆 |
| 扩展阅读 | 在解读页点击「查相关论文」或输入关键词 | 检索智能体查询并展示相关论文列表，可进一步选择某篇进行解读 |
| 回顾已读论文 | 在记忆库中按关键词或语义搜索 | 展示匹配的论文列表及摘要，可打开解读或播客 |
| 通勤听论文 | 在前端对某篇已解读论文点击「播放播客」 | 生成播客稿 → TTS 生成音频 → 前端播放器播放，支持暂停/倍速 |
| 浏览解读与播放 | 打开前端页面，进入某篇论文详情 | 浏览解读后的文字版，点击播放按钮收听播客 |
| 查看领域结构 | 打开知识图谱与热度页 | 查看论文主题知识图谱、热门论文或主题热度 |
| 每日跟进新论文 | 系统每日定时任务 | 自动采集 arXiv 上与历史相关的论文并纳入系统，用户可筛选解读 |

---

## 6. 术语与缩写

| 术语 | 说明 |
|------|------|
| 多智能体系统 | 由多个具有不同职责的 AI 智能体协作完成复杂任务的架构 |
| 解读 | 对论文进行结构化分析与总结，输出面向用户的中文报告 |
| 论文记忆 | 系统对已解读论文的持久化存储与检索能力 |
| TTS | Text-to-Speech，文本转语音 |
| 播客 | 本系统中指由论文解读内容生成的可收听音频及对应文稿 |
| 知识图谱 | 以论文、主题、作者等为节点、关系为边构成的可视化图谱，用于展示领域结构 |
| 热度 | 论文或主题在系统中的热门程度，可用于排序、筛选与图谱展示 |

---
